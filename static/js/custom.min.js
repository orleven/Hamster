!function (a) {
    jQuery.fn[a] = function (e) {
        return e ? this.bind('resize', (t = e, function () {
            var e = this,
                a = arguments;
            i ? clearTimeout(i) : n && t.apply(e, a),
                i = setTimeout(function () {
                    n || t.apply(e, a),
                        i = null
                }, o || 100)
        })) : this.trigger(a);
        var t,
            o,
            n,
            i
    }
}((jQuery, 'smartresize'));
function init_sidebar() {
    var CURRENT_URL = window.location.href.split('#') [0].split('?') [0];

    function t() {
        $('.right_col').css('min-height', $(window).height());
        var e = $('body').outerHeight(),
            a = $('body').hasClass('footer_fixed') ? -10 : $('footer').height(),
            t = $('.left_col').eq(1).height() + $('.sidebar-footer').height(),
            o = e < t ? t : e;
        o -= $('.nav_menu').height() + a,
            $('.right_col').css('min-height', o)
    }

    function o() {
        $('#sidebar-menu').find('li').removeClass('active active-sm'),
            $('#sidebar-menu').find('li ul').slideUp()
    }

    $('#sidebar-menu').find('a').on('click', function (e) {
        var a = $(this).parent();
        a.is('.active') ? (a.removeClass('active active-sm'), $('ul:first', a).slideUp(function () {
            t()
        })) : (a.parent().is('.child_menu') ? $('body').is('nav-sm') && (a.parent().is('child_menu') || o()) : o(), a.addClass('active'), $('ul:first', a).slideDown(function () {
            t()
        }))
    }),
        $('#menu_toggle').on('click', function () {
            $('body').hasClass('nav-md') ? ($('#sidebar-menu').find('li.active ul').hide(), $('#sidebar-menu').find('li.active').addClass('active-sm').removeClass('active')) : ($('#sidebar-menu').find('li.active-sm ul').show(), $('#sidebar-menu').find('li.active-sm').addClass('active').removeClass('active-sm')),
                $('body').toggleClass('nav-md nav-sm'),
                t(),
                $('.dataTable').each(function () {
                    $(this).dataTable().fnDraw()
                })
        }),
        $('#sidebar-menu').find('a[href="' + CURRENT_URL + '"]').parent('li').addClass('current-page'),
        $('#sidebar-menu').find('a').filter(function () {
            return this.href == CURRENT_URL
        }).parent('li').addClass('current-page').parents('ul').slideDown(function () {
            t()
        }).parent().addClass('active'),
        $(window).smartresize(function () {
            t()
        }),
        t(),
    $.fn.mCustomScrollbar && $('.menu_fixed').mCustomScrollbar({
        autoHideScrollbar: !0,
        theme: 'minimal',
        mouseWheel: {
            preventDefault: !0
        }
    })
};
$.fn.dataTable.render.ellipsis = function (cutoff, wordbreak, escapeHtml) {
    var esc = function (t) {
        return t
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;');
    };
    return function (d, type, row) {
        // Order, search and type get the original data
        if (type !== 'display') {
            return d;
        }
        if (typeof d !== 'number' && typeof d !== 'string') {
            return d;
        }
        d = d.toString(); // cast numbers
        if (d.length <= cutoff) {
            return d;
        }
        var shortened = d.substr(0, cutoff - 1);
        // Find the last white space character in the string
        if (wordbreak) {
            shortened = shortened.replace(/\s([^\s]*)$/, '');
        }
        // Protect against uncontrolled HTML input
        if (escapeHtml) {
            shortened = esc(shortened);
        }
        return '<span class="ellipsis" title="' + esc(d) + '">' + shortened + '&#8230;</span>';
    };
};
$(document).ready(function () {
    init_sidebar()
});